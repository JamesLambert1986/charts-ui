
// #region Pie chart
#{'.chart '+$pie-chart} {

  margin-bottom: 2rem;

  .chart__yaxis,
  .line {
    display: none;
  }
  .table__wrapper {
    display: none;
  }

  .pies {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    gap: 2rem;
  }

  .pie {
    position: relative;
    width: 100%;
    aspect-ratio: 1 / 1;
    min-width: rem(200);
    flex: 1 1 auto;
    display: inline-block;
    max-width: var(--pie-size);

    &:first-child {
      margin-left: 0;
    }
    &:last-child {
      margin-right: 0;
    }
  }

  .pie svg {
    width: 100%;
    height: 100%;

    path:hover {
      transform: scale(1.05);
    }
  }

  .pie > div {

    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    background: var(--body-colour-set);
    border-radius: 50%;
    z-index: var(--index-focus);
    padding: 1rem;
    aspect-ratio: 1/1;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 67%;

    span {
      text-align: center;
      display: block;
    }
  }

  .pie:has(path:hover) > div {
    display: none;
  }

  .pie foreignObject {
    background: var(--body-colour-set);
    border-radius: 50%;
    z-index: var(--index-focus);
    pointer-events: none;
    display: none;
    padding: 1rem;

    div {
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100%;
    }
    span {
      text-align: center;
      display: block;
    }
  }
  
  .pie {
    path:nth-child(1):hover ~ foreignObject:nth-of-type(1),
    path:nth-child(2):hover ~ foreignObject:nth-of-type(2),
    path:nth-child(3):hover ~ foreignObject:nth-of-type(3),
    path:nth-child(4):hover ~ foreignObject:nth-of-type(4),
    path:nth-child(5):hover ~ foreignObject:nth-of-type(5),
    path:nth-child(6):hover ~ foreignObject:nth-of-type(6),
    path:nth-child(7):hover ~ foreignObject:nth-of-type(7),
    path:nth-child(8):hover ~ foreignObject:nth-of-type(8),
    path:nth-child(9):hover ~ foreignObject:nth-of-type(9){
      display: block;
    }
  }
}
// #endregion
